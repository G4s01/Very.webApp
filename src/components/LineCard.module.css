/* Updated: LegendPill disabled, options button removed, sidebars' inner handle rounded + inset
   The inner handle has vertical margins so corners are rounded and less "spigolose".
*/

/* variables on local class to satisfy CSS modules purity */
.line-card {
  --lc-padding: 22px;
  --lc-side-w: 22px;

  position: relative;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
  padding: var(--lc-padding) calc(var(--lc-padding) + 8px);
  border: 1px solid #eef3ef;
  width: auto;
  max-width: 720px;
  box-sizing: border-box;
  overflow: visible;
}

/* ensure any old central nav is hidden */
.lc__navBtn { display: none !important; }

/* SIDE BAR: spans full height of the card and acts as button */
.lc__sideBar {
  position: absolute;
  top: 0;
  bottom: 0;
  width: var(--lc-side-w);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 25;
  pointer-events: auto;
  background: transparent;
  cursor: pointer;
  outline: none;
}

/* left/right placement flush to card edges */
.lc__sideBar[data-side="left"] {
  left: 0;
  border-top-left-radius: 16px;
  border-bottom-left-radius: 16px;
  box-shadow: inset 4px 0 8px -8px rgba(0,0,0,0.04);
}
.lc__sideBar[data-side="right"] {
  right: 0;
  border-top-right-radius: 16px;
  border-bottom-right-radius: 16px;
  box-shadow: inset -4px 0 8px -8px rgba(0,0,0,0.04);
}

/* the visual handle now has rounded corners and is inset vertically so it doesn't touch the card edges */
.lc__sideBarBtnInner {
  width: calc(100% - 8px);
  height: calc(100% - 32px); /* leave vertical space so corners are rounded relative to card */
  margin: 16px 4px;
  border-radius: 12px;      /* smussatura richiesta */
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  color: #0b2430;
  background: rgba(255,255,255,0.98);
  border: 1px solid rgba(3,10,18,0.06);
  box-shadow: 0 8px 20px rgba(9,30,66,0.06);
  transition: transform 120ms ease, box-shadow 120ms ease, background 120ms ease;
  padding: 0;
}
.lc__sideBarBtnInner:hover { transform: translateY(-2px); box-shadow: 0 12px 26px rgba(9,30,66,0.09); }

/* options icon removed - keep rule but it's no longer rendered */
.icon-btn-abs { display: none; }

/* grid and rest unchanged */
.lc__grid {
  display: grid;
  grid-template-columns: 220px minmax(0, 1fr);
  column-gap: 22px;
  align-items: start;
  width: 100%;
  min-height: 250px;
  min-width: 0;
}

.lc__left { display: flex; flex-direction: column; align-items: center; min-width: 0; }
.lc__header-row { margin-bottom: 8px; }

.header-split {
  display: flex;
  align-items: center;
  height: 48px;
  background: linear-gradient(180deg,#ffffff,#fbfffd);
  border-radius: 12px;
  border: 1px solid #dfeae5;
  box-shadow: 0 4px 12px rgba(0,0,0,0.04);
  overflow: hidden;
  width: 100%;
  box-sizing: border-box;
}

.hs-left { flex: 0 0 56px; display: grid; place-items: center; border-right: 1px solid #e6efe9; background: #fff; cursor: pointer; }
.hs-left--on { background: linear-gradient(180deg,#fff,#fffdf5); }
.hs-star { font-size: 22px; color: #9aa69f; }
.hs-left--on .hs-star { color: #f2c94c; }

.hs-right {
  flex: 1 1 auto;
  display: inline-flex;
  align-items: center;
  padding: 0 14px;
  font-weight: 800;
  color: #0a2430;
  font-size: 1.05rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
}

.lc__donut { margin-bottom: 12px; min-width: 0; }
.lc__right { position: relative; display: flex; flex-direction: column; height: 100%; min-width: 0; }

/* LEGENDPILL DISABLED
   The old legend pill area is intentionally disabled - the mascot will occupy the full right column.
*/
.legendpill-align { display: none !important; height: 0 !important; }

/* NEW: mascot fills the right column, including the area previously used by the legend pill.
   The image uses object-fit: contain so it keeps its aspect ratio while
   occupying as much space as possible; switch to object-fit: cover if you
   prefer it to fill and crop to the bounds.
*/
.lc__mascot {
  flex: 1 1 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  box-sizing: border-box;
  padding: 8px;
}
.lc__mascot img {
  width: 100%;
  height: 100%;
  max-width: 100%;
  max-height: 100%;
  object-fit: contain; /* change to 'cover' to fill and crop */
  display: block;
  border-radius: 10px;
}

/* RINNOVO+TRAY ROW */
.lc__renewal-options-row { margin-top: 16px; width: 100%; display: flex; flex-direction: row; align-items: center; gap: 18px; box-sizing: border-box; }

.renewal-split { display: flex; align-items: stretch; height: 48px; border-radius: 12px; background: linear-gradient(180deg,#f0fbf4,#ffffff); border: 1px solid #cfe6da; box-shadow: 0 4px 12px rgba(0,0,0,0.04); overflow: hidden; min-width: 0; width: auto; }

.rs-left { flex: 1 1 auto; display: inline-flex; align-items: center; padding: 0 14px; color: #0a5d36; font-weight: 800; font-size: 1rem; letter-spacing: 0.5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-width: 0; }

.rs-right { flex: 0 0 108px; display: inline-flex; align-items: center; justify-content: center; padding: 0 16px; color: #2b513e; font-weight: 700; font-size: 0.98rem; border-left: 1px solid #cfe6da; background: #ffffff; white-space: nowrap; box-sizing: border-box; }

.lc-options-align { flex: 1 1 0; min-width: 0; display: flex; align-items: center; }
.lc-options-align :global(.OptionsTray) { width: 100%; min-width: 0; max-width: 100%; box-sizing: border-box; }

@media (max-width: 900px) {
  .line-card { padding: var(--lc-padding); width: 100%; max-width: none; }
  .lc__grid { grid-template-columns: 1fr; min-height: 0; }
  .lc__left { align-items: center; }
  .lc__right { align-items: center; position: static; }
  .legendpill-align { display: none !important; height: 0 !important; }
  .lc__mascot img { object-fit: contain; width: 80%; height: auto; }
  .lc__sideBar { display: none; }
}